# AI_README

> 本文档用于 **向 AI 提供 SealVault 项目的长期上下文信息**，以减少重复解释、避免误解，并保证生成内容符合项目的工程目标与设计约束。
>
> **本文件不是给最终用户或普通贡献者阅读的文档。**

---

## 1. 项目一句话定位

**SealVault 是一个以安全性、可验证性和工程可维护性为核心的文件加密引擎项目。**

它不是简单的“文件加密工具”，而是：

* 可作为 **独立工具** 使用
* 也可作为 **加密引擎 / 库** 被其他程序调用

---

## 2. 项目核心目标（AI 必须始终遵守）

当你为 SealVault 生成代码、设计或建议时，请始终遵循以下优先级顺序：

1. **安全性高于一切**（Security > Performance > Convenience）
2. 明确、可审计的加密流程
3. 工程结构清晰、可长期维护
4. 避免“炫技式”或不必要的复杂设计

如果某个设计在安全性上存在争议，请明确指出风险，而不是直接实现。

---

## 3. 技术栈与总体架构

### 3.1 技术栈

* **Rust**：

  * 负责所有安全敏感逻辑
  * 包括：KDF、AEAD、密钥管理、核心加密流程

* **C++**：

  * 负责系统层交互、性能关键路径或平台相关实现
  * 不直接实现加密原语

### 3.2 架构原则

* Rust 是安全边界（Security Boundary）
* C++ 永远不“绕过” Rust 的安全设计
* 模块职责必须单一、明确

---

## 4. 关键模块职责说明

### engine/

* 加密核心逻辑
* 不依赖 UI / Shell / 平台
* 不包含任何 I/O 或系统调用

### shell/（规划中）

* 命令行接口
* 不包含加密实现，仅调用 engine

### ui/（规划中）

* 图形界面
* 与加密逻辑严格解耦

---

## 5. 加密设计层面的共识

AI 在讨论或实现加密相关内容时，请遵循以下共识：

* 使用 **现代、被广泛审计的算法**
* 禁止自行设计加密算法
* 明确区分：

  * 密钥派生（KDF）
  * 加密与认证（AEAD）
* 所有随机数必须来自安全随机源

如果某个实现只是“示例 / 占位”，必须明确标注。

---

## 6. 文件格式与扩展名

* SealVault 使用自定义加密文件格式
* 默认文件扩展名：

```text
.svlt
```

AI 在提及文件格式时：

* 不要假设格式已经稳定
* 不要随意添加未讨论过的字段

---

## 7. 编码与风格约定

* 优先 **清晰、可读、可审计** 的代码
* 避免宏魔法、隐式行为
* Rust 代码：

  * 显式错误处理（Result / Error 类型）
  * 避免 unwrap / expect（除非明确说明原因）

---

## 8. Commit 与工程约束（摘要）

SealVault 使用 **语义化 commit + 图标前缀**。

AI 在示例中给出的 commit message：

* 必须符合规范
* 不使用随意或玩笑式描述

#### Commit 基本格式
```plain
<icon> <type>(<scope>): <summary>

[optional body]
```

其中 `summary` 和 `optional body` 均使用中文

#### Commit 类型即图标说明

- ✨feat: 新功能 
- 🛠️fix: 修复 bug 
- 📄docs: 文档更新 
- 🎨style: 代码格式化
- 🔨refactor: 重构代码 
- 📦chore: 构建流程或辅助工具的变动 
- 🚨test: 测试用例或演示代码 
- 🎉release: 发布新版本

---

## 9. AI 明确不应做的事情（Very Important）

* ❌ 不要假设项目目标是“方便用户绕过安全限制”
* ❌ 不要为了简洁而弱化安全设计
* ❌ 不要引入未经讨论的第三方加密方案

如果不确定，请选择 **保守方案并说明理由**。

---

## 10. 文档角色说明（给 AI 的理解）

| 文档              | 作用          |
| --------------- | ----------- |
| README.md       | 给人看的项目介绍    |
| CONTRIBUTING.md | 给贡献者的规范     |
| AI_README.md    | 给 AI 的长期上下文 |

AI_README 的内容 **优先级高于临时 prompt**，但低于明确的用户即时指令。

---

> 如果 AI 的回答与本文件冲突，应以本文件为准，并提示用户存在冲突。
